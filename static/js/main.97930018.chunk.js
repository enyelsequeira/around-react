(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=(a(14),a(1)),s=a(5),i=a.n(s),m=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("a",{className:"header__link",href:"/"},r.a.createElement("img",{src:i.a,alt:"logo",className:"header__logo"})))},u=a(2),d=a.n(u),f=a(6),_=a(7),h=a(8),p=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(_.a)(this,e),this._baseUrl=a,this._headers=n}return Object(h.a)(e,[{key:"getCardList",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"getPageInfo",value:function(){return Promise.all([this.getCardList(),this.getUserInfo()])}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"getAppInfo",value:function(){}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"changeLikeCardStatus",value:function(e,t){return(t?fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}):fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-3",headers:{authorization:"9a4eb9c4-eb35-4130-9822-f1a4ffd479bc","Content-Type":"application/json"}}),E=function(e){var t=e.title,a=e.image,n=e.likeCount,o=e.onCardImageClick;return r.a.createElement("li",{className:"elements__item"},r.a.createElement("div",{className:"elements__image",onClick:o,style:{backgroundImage:"url(".concat(a,")")}}),r.a.createElement("button",{className:"elements__trash",type:"button"}),r.a.createElement("div",{className:"elements__info"},r.a.createElement("h3",{className:"elements__title"},t),r.a.createElement("button",{className:"elements__image-heart",type:"button",name:"like"}),r.a.createElement("h4",{className:"elements__like-count"},n)))},g=function(e){var t=e.onCardImageClick,a=e.onAddCard,o=e.onEditAvatar,c=e.onEditProfile,s=Object(n.useState)({}),i=Object(l.a)(s,2),m=i[0],u=i[1],_=Object(n.useState)([]),h=Object(l.a)(_,2),g=h[0],b=h[1];return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([p.getUserInfo(),p.getCardList()]);case 2:t=e.sent,a=Object(l.a)(t,2),n=a[0],r=a[1],u(n),b(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("main",null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar"},r.a.createElement("img",{className:"profile__avatar-image",src:m.avatar,alt:"profile"}),r.a.createElement("button",{className:"profile__avatar-overlay",onClick:o})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h2",{className:"profile__name"},m.name),r.a.createElement("p",{className:"profile__profession"},m.about),r.a.createElement("button",{className:"profile__info-btn",type:"button",onClick:c})),r.a.createElement("button",{className:"profile__button-add",onClick:a})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__list"},g.map((function(e,a){return r.a.createElement(E,{key:a,image:e.link,title:e.name,likeCount:e.likes.length,onCardImageClick:function(){t(e.link,e.name)}})})))))},b=function(e){var t=e.isOpen,a=e.popupType,n=e.onClose,o=e.heading,c=e.children,l=e.buttonText;return r.a.createElement("div",{className:"".concat(a,t?" modal_active modal":" modal ")},r.a.createElement("div",{className:"modal__info"},r.a.createElement("button",{className:"modal__close","aria-label":"close modal","data-close":!0,type:"button",onClick:n}),r.a.createElement("p",{className:"modal__title"}," ",o),r.a.createElement("form",{className:"modal__form"},c,r.a.createElement("button",{className:"modal__save-button modal__save",type:"submit",value:"save",disabled:!0},l))))},v=function(e){var t=e.isOpen,a=e.onClose,n=e.image,o=e.title;return r.a.createElement("div",{className:t?"modal figure modal_active":"modal figure"},r.a.createElement("div",{className:"modal__figure-container"},r.a.createElement("button",{className:"modal__close modal__figure-exit",onClick:a}),r.a.createElement("img",{className:"modal__figure-image",src:n,onClick:t}),r.a.createElement("p",{className:"modal__figure-caption"},o)))},k=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__text"}," \xa9 2020 Around The U.S "))},N=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),_=f[0],h=f[1],p=Object(n.useState)(!1),E=Object(l.a)(p,2),N=E[0],y=E[1],j=Object(n.useState)(""),C=Object(l.a)(j,2),O=C[0],x=C[1],T=Object(n.useState)(""),P=Object(l.a)(T,2),U=P[0],S=P[1];return r.a.createElement("div",{className:"page"},r.a.createElement(m,null),r.a.createElement(g,{onEditAvatar:function(){u(!0)},onEditProfile:function(){o(!0)},onAddCard:function(){h(!0)},onCardImageClick:function(e,t){y(!0),x(e),S(t)}}),r.a.createElement(b,{heading:"Edit Profile",buttonText:"Save",popupType:"modal__edit",isOpen:a,onClose:function(){o(!1)}},r.a.createElement("input",{id:"profile-name",className:"modal__form-name modal__input",type:"text",name:"name",placeholder:"Jacques",required:!0,maxLength:"40",minLength:"2"}),r.a.createElement("span",{id:"profile-name-error",className:"modal__formerror"}),r.a.createElement("input",{id:"profile-text",className:"modal__form-profession modal__input",type:"text",name:"job",placeholder:"Explorer",required:!0,maxLength:"200",minLength:"2"}),r.a.createElement("span",{id:"profile-text-error",className:"modal__formerror"})),r.a.createElement(b,{heading:"New Place",buttonText:"Create",popupType:"modal__card",isOpen:_,onClose:function(){h(!1)}},r.a.createElement("input",{id:"card-title",className:"modal__form-name modal__form-title  modal__input",type:"text",name:"Title",value:"ImageTitle",required:!0,maxLength:"30",minLength:"1"}),r.a.createElement("span",{id:"card-title-error",className:"modal__formerror"}),r.a.createElement("input",{id:"card-url",type:"url",className:"modal__form-profession modal__form-link  modal__input",name:"Imagelink",value:"image",required:!0}),r.a.createElement("span",{id:"card-url-error",className:"modal__formerror"})),r.a.createElement(b,{heading:"Change Profile Picture",buttonText:"Save",popupType:"modal__addimage",isOpen:i,onClose:function(){u(!1)}},r.a.createElement("input",{id:"profile-url",type:"url",className:"modal__form-profession modal__form-link modal__form-avatar  modal__input",name:"Imagelink",placeholder:"Image Link",required:!0}),r.a.createElement("span",{id:"profile-url-error",className:"modal__formerror"})),r.a.createElement(b,{heading:"Are you sure",buttonText:"yes",popupType:"modal__deleteimage"}),r.a.createElement(v,{isOpen:N,title:U,image:O,onClose:function(){y(!1)}}),r.a.createElement(k,null))};c.a.render(r.a.createElement(N,null),document.getElementById("root"))},5:function(e,t,a){e.exports=a.p+"static/media/SVGHEADER.3e6893cd.svg"},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.97930018.chunk.js.map