(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),s=(a(12),a(1)),l=a(4),i=a.n(l),m=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("a",{className:"header__link",href:"/"},r.a.createElement("img",{src:i.a,alt:"logo",className:"header__logo"})))},u=a(5),d=a(6),f=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(u.a)(this,e),this._baseUrl=a,this._headers=n}return Object(d.a)(e,[{key:"getCardList",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"getPageInfo",value:function(){return Promise.all([this.getCardList(),this.getUserInfo()])}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"getAppInfo",value:function(){}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}},{key:"changeLikeCardStatus",value:function(e,t){return(t?fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}):fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))})).catch((function(e){return console.log(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-3",headers:{authorization:"9a4eb9c4-eb35-4130-9822-f1a4ffd479bc","Content-Type":"application/json"}}),h=function(e){var t=e.title,a=e.image,n=e.likeCount,o=e.onCardImageClick;return r.a.createElement("li",{className:"elements__item"},r.a.createElement("div",{className:"elements__image",onClick:o,style:{backgroundImage:"url(".concat(a,")")}}),r.a.createElement("button",{className:"elements__trash",type:"button"}),r.a.createElement("div",{className:"elements__info"},r.a.createElement("h3",{className:"elements__title"},t),r.a.createElement("button",{className:"elements__image-heart",type:"button",name:"like"}),r.a.createElement("h4",{className:"elements__like-count"},n)))},_=function(e){var t=e.onCardImageClick,a=e.onAddCard,o=e.onEditAvatar,c=e.onEditProfile,l=Object(n.useState)(""),i=Object(s.a)(l,2),m=i[0],u=i[1],d=Object(n.useState)(""),_=Object(s.a)(d,2),p=_[0],b=_[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),k=g[0],v=g[1];Object(n.useEffect)((function(){f.getUserInfo().then((function(e){v(e.avatar),u(e.name),b(e.about)}))}),[m,p,k]);var j=Object(n.useState)([]),N=Object(s.a)(j,2),y=N[0],O=N[1];return Object(n.useEffect)((function(){f.getCardList().then((function(e){O(e)}))}),[O]),r.a.createElement("main",null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar"},r.a.createElement("img",{className:"profile__avatar-image",src:k,alt:"profile"}),r.a.createElement("button",{className:"profile__avatar-overlay",onClick:o})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h2",{className:"profile__name"},m),r.a.createElement("p",{className:"profile__profession"},p),r.a.createElement("button",{className:"profile__info-btn",onClick:c})),r.a.createElement("button",{className:"profile__button-add",onClick:a})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__list"},y.map((function(e,a){return r.a.createElement(h,{key:a,image:e.link,title:e.name,likeCount:e.likes.length,onCardImageClick:function(){t(e.link,e.name)}})})))))},p=function(e){e.isOpen,e.popupType,e.onClose,e.heading,e.children,e.buttonText},b=function(e){e.isOpen,e.onClose,e.image,e.title},E=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__text"}," \xa9 2020 Around The U.S "))},g=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],u=l[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),h=f[0],g=f[1],k=Object(n.useState)(!1),v=Object(s.a)(k,2),j=v[0],N=v[1],y=Object(n.useState)(""),O=Object(s.a)(y,2),C=O[0],T=O[1],x=Object(n.useState)(""),P=Object(s.a)(x,2),S=P[0],U=P[1];return r.a.createElement("div",{className:"page"},r.a.createElement(m,null),r.a.createElement(_,{onEditAvatar:function(){u(!0)},onEditProfile:function(){o(!0)},onAddCard:function(){g(!0)},onCardImageClick:function(e,t){N(!0),T(e),U(t)}}),r.a.createElement(p,{heading:"Edit Profile",buttonText:"Save",popupType:"modal__edit",isOpen:a,onClose:function(){o(!1)}},r.a.createElement("input",{id:"profile-name",className:"modal__form-name modal__input",type:"text",name:"name",placeholder:"Jacques",required:!0,maxLength:"40",minLength:"2"}),r.a.createElement("span",{id:"profile-name-error",className:"modal__formerror"}),r.a.createElement("input",{id:"profile-text",className:"modal__form-profession modal__input",type:"text",name:"job",placeholder:"Explorer",required:!0,maxLength:"200",minLength:"2"}),r.a.createElement("span",{id:"profile-text-error",className:"modal__formerror"})),r.a.createElement(p,{heading:"New Place",buttonText:"Create",popupType:"modal__card",isOpen:h,onClose:function(){g(!1)}},r.a.createElement("input",{id:"card-title",className:"modal__form-name modal__form-title  modal__input",type:"text",name:"Title",value:"ImageTitle",required:!0,maxLength:"30",minLength:"1"}),r.a.createElement("span",{id:"card-title-error",className:"modal__formerror"}),r.a.createElement("input",{id:"card-url",type:"url",className:"modal__form-profession modal__form-link  modal__input",name:"Imagelink",value:"image",required:!0}),r.a.createElement("span",{id:"card-url-error",className:"modal__formerror"})),r.a.createElement(p,{heading:"Change Profile Picture",buttonText:"Save",popupType:"modal__addimage",isOpen:i,onClose:function(){u(!1)}},r.a.createElement("input",{id:"profile-url",type:"url",className:"modal__form-profession modal__form-link modal__form-avatar  modal__input",name:"Imagelink",placeholder:"Image Link",required:!0}),r.a.createElement("span",{id:"profile-url-error",className:"modal__formerror"})),r.a.createElement(p,{heading:"Are you sure",buttonText:"yes",popupType:"modal__deleteimage"}),r.a.createElement(b,{isOpen:j,title:S,image:C,onClose:function(){N(!1)}}),r.a.createElement(E,null))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))},4:function(e,t,a){e.exports=a.p+"static/media/SVGHEADER.3e6893cd.svg"},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.c826a821.chunk.js.map